<div class="container">
  <div class="form-section">
    <form [formGroup]="seafarersForm" class="seafarersForm" (ngSubmit)="onSubmit()">

  
      <h5>Personal Details</h5>

      <!-- Photo upload -->
       <div class="form-field">
        <label for="image">Upload Image</label>
        <input type="file" (change)="onFileSelected($event)" accept="image/*" formControlName="img"/>
       </div>
        
      <div *ngIf="previewUrl">
        <p>Image Preview:</p>
        <img [src]="previewUrl" alt="Image preview" width="200" />
      </div>
      <br>

      <mat-form-field class="example-full-width">
        <mat-label> SID No </mat-label>
        <input matInput placeholder="SID No" formControlName="sidNo" >
          <span class="text-danger" 
            *ngIf="(seafarersForm.get('sidNo').touched || submitted) && seafarersForm.get('sidNo').errors && seafarersForm.get('sidNo').errors['required'] ">
             First Name is Required
          </span>
      </mat-form-field>
      <br>

      <mat-form-field class="example-full-width">
        <mat-label> Position </mat-label>
        <mat-select formControlName="position">
          <mat-option value="AB Trainee">AB Trainee</mat-option>
          <mat-option value="OS">OS</mat-option>
          <mat-option value="AB">AB</mat-option>
          <mat-option value="Bosun">Bosun</mat-option>
          <mat-option value="Pumpman">Pumpman</mat-option>
          <mat-option value="Oiler">Oiler</mat-option>
          <mat-option value="Fitter">Fitter</mat-option>
          <mat-option value="Messman">Messman</mat-option>
          <mat-option value="Cook">Cook</mat-option>
          <mat-option value="Electrician">Electrician</mat-option>
        </mat-select>
      </mat-form-field>  
      <br>

      <mat-form-field class="example-full-width">
        <mat-label> Applied Date </mat-label>
        <input matInput [matDatepicker]="appliedDate" formControlName="appliedDate"/>
        <mat-hint> MM/DD/YYYY </mat-hint>
        <mat-datepicker-toggle matIconSuffix [for]="appliedDate"></mat-datepicker-toggle>
        <mat-datepicker #appliedDate></mat-datepicker>
      </mat-form-field>
      <br>

      <mat-form-field class="example-full-width">
        <mat-label> Available Date </mat-label>
        <input matInput [matDatepicker]="availableDate" formControlName="availableDate"/>
        <mat-hint> MM/DD/YYYY </mat-hint>
        <mat-datepicker-toggle matIconSuffix [for]="availableDate"></mat-datepicker-toggle>
        <mat-datepicker #availableDate></mat-datepicker>
      </mat-form-field>
      <br>

      <mat-form-field class="example-full-width">
        <mat-label> Surname </mat-label>
        <input matInput placeholder="Surname" formControlName="surname" >
      </mat-form-field>
      <br>

      <mat-form-field class="example-full-width">
        <mat-label> Other Names </mat-label>
        <input matInput placeholder="Other Names" formControlName="otherNames" >
      </mat-form-field>
      <br>

      <mat-form-field class="example-full-width">
        <mat-label> DOB </mat-label>
        <input matInput [matDatepicker]="dob" formControlName="dob"/>
        <mat-hint> MM/DD/YYYY </mat-hint>
        <mat-datepicker-toggle matIconSuffix [for]="dob"></mat-datepicker-toggle>
        <mat-datepicker #dob></mat-datepicker>
      </mat-form-field>
      <br>

      <mat-form-field class="example-full-width">
        <mat-label> Birth Place </mat-label>
        <input matInput placeholder="Birth Place" formControlName="birthPlace" >
      </mat-form-field>
      <br>

      <mat-form-field class="example-full-width">
        <mat-label> NIC </mat-label>
        <input matInput placeholder="NIC" formControlName="nic" >
      </mat-form-field>
      <br>

      <mat-form-field class="example-full-width">
        <mat-label> Religion </mat-label>
        <mat-select  formControlName="religion">
          <mat-option value="Buddhist">Buddhist</mat-option>
          <mat-option value="Catholic">Catholic</mat-option>
          <mat-option value="Hindu">Hindu</mat-option>
          <mat-option value="Islam">Islam</mat-option>
          <mat-option value="Other">Other</mat-option>
        </mat-select>
      </mat-form-field>  
      <br>

      <mat-label> Gender </mat-label> <br>
      <mat-radio-group name="Gender" formControlName="gender">
        <mat-radio-button value="Male" checked="true">Male</mat-radio-button>
        <mat-radio-button value="Female">Female</mat-radio-button>
        <mat-radio-button value="Other">Other</mat-radio-button>
      </mat-radio-group>
      <br><br>

      <mat-label> Married Status </mat-label> <br>
      <mat-radio-group name="Married Status" formControlName="marriedStatus">
        <mat-radio-button value="Single" checked="true">Single</mat-radio-button>
        <mat-radio-button value="Married">Married</mat-radio-button>
        <mat-radio-button value="Divorced">Divorced</mat-radio-button>
      </mat-radio-group>  
      <br><br>

      <mat-form-field class="example-full-width">
        <mat-label> No of Childern </mat-label>
        <mat-select formControlName="noOfChildren">
          <mat-option>None</mat-option>
          <mat-option value="01">01</mat-option>
          <mat-option value="02">02</mat-option>
          <mat-option value="03">03</mat-option>
          <mat-option value="04">04</mat-option>
          <mat-option value="05">05</mat-option>
          <mat-option value="05+">05+</mat-option>
        </mat-select>
      </mat-form-field>
      <br>

      <mat-form-field class="example-full-width">
        <mat-label> Address </mat-label>
        <input matInput placeholder="Address" formControlName="address" >
      </mat-form-field>
      <br>

      <mat-label> English language </mat-label> <br>
      <mat-radio-group name="English language" formControlName="englishLanguage">
        <mat-radio-button value="Very Good" checked="true">Very Good</mat-radio-button>
        <mat-radio-button value="Good">Good</mat-radio-button>
        <mat-radio-button value="Average">Average</mat-radio-button>
        <mat-radio-button value="Not Good">Not Good</mat-radio-button>
      </mat-radio-group> 
      <br><br><br>

      <h5>Contact Details</h5>
      
      <mat-form-field class="example-full-width">
        <mat-label> Home </mat-label>
        <input matInput placeholder="Home" formControlName="home" >
      </mat-form-field>
      <br>

      <mat-form-field class="example-full-width">
        <mat-label> Mobile </mat-label>
        <input matInput placeholder="Mobile" formControlName="mobile" >
      </mat-form-field>
      <br>

      <mat-form-field class="example-full-width">
        <mat-label> E-mail </mat-label>
        <input matInput placeholder="E-mail" formControlName="email" >
      </mat-form-field>
      <br><br>

      <h5>Next of Kin Details</h5>

      <mat-form-field class="example-full-width">
        <mat-label> Name </mat-label>
        <input matInput placeholder="Name" formControlName="kinName" >
      </mat-form-field>
      <br>
      
      <mat-form-field class="example-full-width">
        <mat-label> Relationship </mat-label>
        <mat-select formControlName="kinRelationship">
          <mat-option value="Wife">Wife</mat-option>
          <mat-option value="Father">Father</mat-option>
          <mat-option value="Mother">Mother</mat-option>
          <mat-option value="Brother">Brother</mat-option>
          <mat-option value="Sister">Sister</mat-option>
        </mat-select>
      </mat-form-field>
      <br>

      <mat-form-field class="example-full-width">
        <mat-label> Address </mat-label>
        <input matInput placeholder="Address" formControlName="kinAddress" >
      </mat-form-field>
      <br>

      <mat-form-field class="example-full-width">
        <mat-label> Mobile </mat-label>
        <input matInput placeholder="Mobile" formControlName="kinMobile" >
      </mat-form-field>
      <br>

      <mat-form-field class="example-full-width">
        <mat-label> E-mail </mat-label>
        <input matInput placeholder="E-mail" formControlName="kinEmail" >
      </mat-form-field>
      <br><br>

      <button type="submit" mat-raised-button color="primary" class="form-button" [disabled]="isButtonDisabled"> {{saveButtonLabel}} </button>
      <button type="reset" mat-raised-button color="secondary" class="form-button" (click)="resetData()"> Reset </button>

      <br><br><br>
    
    </form>

  </div>
  <div class="table-section">
    <div class="refresh-filter-section">
      <div class="refresh-button">
        <button mat-raised-button color="primary" (click)="refreshData()">
          <mat-icon>refresh</mat-icon>
        </button>
      </div>
      <mat-form-field class="filter">
        <mat-label>Filter</mat-label>
        <input matInput (keyup)="applyFilter($event)" placeholder="Ex. ium" #input>
      </mat-form-field>
    </div>

    <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">

      <ng-container matColumnDef="sidNo">
        <th mat-header-cell *matHeaderCellDef> SID </th>
        <td mat-cell *matCellDef="let element"> {{element.sidNo}} </td>
      </ng-container>

      <ng-container matColumnDef="position">
        <th mat-header-cell *matHeaderCellDef> Position </th>
        <td mat-cell *matCellDef="let element"> {{element.position}} </td>
      </ng-container>
    
      <ng-container matColumnDef="surname">
        <th mat-header-cell *matHeaderCellDef> Surname </th>
        <td mat-cell *matCellDef="let element"> {{element.surname}} </td>
      </ng-container>

      <ng-container matColumnDef="mobile">
        <th mat-header-cell *matHeaderCellDef> Mobile </th>
        <td mat-cell *matCellDef="let element"> {{element.mobile}} </td>
      </ng-container>

      <ng-container matColumnDef="availableDate">
        <th mat-header-cell *matHeaderCellDef> Available Date </th>
        <td mat-cell *matCellDef="let element"> {{element.availableDate | date: 'dd/MM/yyyy'}} </td>
      </ng-container>
      
      <ng-container matColumnDef="actions">
        <th mat-header-cell *matHeaderCellDef> Action </th>
        <td mat-cell *matCellDef="let element"> 
          <button mat-icon-button color="warn" (click)="editData(element)" matTooltip="edit">
            <mat-icon>edit</mat-icon>
          </button>
          <button mat-icon-button color="warn" (click)="deleteData(element)" matTooltip="delete">
            <mat-icon>delete</mat-icon>
          </button>
        </td>
      </ng-container>
    

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>

     <mat-paginator [pageSizeOptions]="[5, 10, 25, 100]" aria-label="Select page of users"></mat-paginator>
  </div>
</div>
    

        

